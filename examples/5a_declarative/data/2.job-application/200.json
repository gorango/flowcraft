{
	"nodes": [
		{
			"id": "extract_skills",
			"uses": "llm-process",
			"params": {
				"promptTemplate": "Extract a list of all technical skills from this resume. Format as a simple comma-separated string:\n\n{{resume}}",
				"inputs": {
					"resume": "resume"
				}
			}
		},
		{
			"id": "analyze_tone",
			"uses": "llm-process",
			"params": {
				"promptTemplate": "Analyze the tone of this cover letter. Respond with a single word: \"professional\", \"casual\", or \"unprofessional\".\n\n{{coverLetter}}",
				"inputs": {
					"coverLetter": "coverLetter"
				}
			}
		},
		{
			"id": "check_qualifications",
			"uses": "llm-condition",
			"params": {
				"promptTemplate": "Does this list of skills `{{skills}}` contain all of the following required skills: `TypeScript, Node.js, SQL`? Also, is the cover letter tone `{{tone}}` professional? Respond only 'true' if both conditions are met, otherwise 'false'.",
				"inputs": {
					"skills": "extract_skills",
					"tone": "analyze_tone"
				}
			}
		},
		{
			"id": "send_interview_email",
			"uses": "subflow",
			"params": {
				"blueprintId": "201",
				"outputs": {
					"send_interview_email": "final_output"
				},
				"inputs": {
					"applicantName": "applicantName"
				}
			}
		},
		{
			"id": "send_rejection_email",
			"uses": "subflow",
			"params": {
				"blueprintId": "202",
				"outputs": {
					"send_rejection_email": "final_output"
				},
				"inputs": {
					"applicantName": "applicantName"
				}
			}
		},
		{
			"id": "final_output",
			"uses": "output",
			"params": {
				"promptTemplate": "Final email sent to {{applicantName}}:\n\n{{email_body}}",
				"inputs": {
					"applicantName": "applicantName",
					"email_body": ["send_interview_email", "send_rejection_email"]
				}
			}
		}
	],
	"edges": [
		{
			"source": "extract_skills",
			"target": "check_qualifications"
		},
		{
			"source": "analyze_tone",
			"target": "check_qualifications"
		},
		{
			"source": "check_qualifications",
			"target": "send_interview_email",
			"action": "true"
		},
		{
			"source": "check_qualifications",
			"target": "send_rejection_email",
			"action": "false"
		},
		{
			"source": "send_interview_email",
			"target": "final_output"
		},
		{
			"source": "send_rejection_email",
			"target": "final_output"
		}
	]
}
